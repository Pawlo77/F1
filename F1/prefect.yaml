name: f1-deployment
prefect-version: ">=3.4.1,<4.0.0"

blocks:
  - block-type: github-credentials
    name: f1-github-credentials
    description: GitHub credentials for F1 project
    fields:
      token: "{{ env.REPO_TOKEN }}"

pull:
  - prefect.deployments.steps.git_clone:
      repository: "{{ env.REPO_URL }}"
      credentials: "{{ prefect.blocks.github-credentials.f1-github-credentials }}"

deployments:
  - name: f1-test-flow
    entrypoint: tests/deployment_test.py:main
    work_pool:
      name: default-work-pool
    schedule:
      cron: "0 9 * * *"
    tags: ["test"]
    version: "1.0"
    parameters: {}
