name: f1-deployment
prefect-version: ">=3.4.1,<4.0.0"

pull:
  - prefect.deployments.steps.git_clone:
      repository: "{{ env.REPO_URL }}"
      credentials: "{{ prefect.blocks.github-credentials.f1-github-credentials }}"

deployments:
  - name: test-flow
    entrypoint: tests/deployment_test.py:main
    work_pool:
      name: default-work-pool
    tags: ["test"]
    version: "1.0"
    parameters: {}
  - name: racing-circuits
    entrypoint: f1/flows/racing_circuits/elt:elt
    work_pool:
      name: default-work-pool
    schedule:
      cron: "0 3 1 * *"
    tags: ["racing-circuits"]
    version: "1.0"
    parameters: {}
